<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
  <head>
    <title>webgen - WebPage Format</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="description" content="webgen is used for generating static websites." />
    <meta name="Keywords" content="webgen, static web site generator, ruby, HTML, dynamic tags, plugin based, static web, web generator, site generator" />
    <meta name="author" content="Thomas Leitner / Original design by Andreas Viklund - http://andreasviklund.com" />
    <link rel="stylesheet" href="../../default.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../css/webgen.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../css/sipttra.css" type="text/css" media="screen" />
    <script type="text/javascript" src="../../js/sipttra.js"></script>
  </head>

  <body>
    <div id="container">

      <div id="sitename">
        <a href="http://webgen.rubyforge.org">
          <img src="../../images/webgen-logo.png" alt="webgen logo" style="margin-top: 20px; padding-right: 10px; float: left"/>
        </a>
        <h1>webgen / static website generator</h1>
        <h2>static website generation made easy!</h2>
      </div>

      <div id="mainmenu">
        <div class="webgen-menu-vert webgen-menu"><ul><li ><a href="../../index.html">HomePage</a></li><li ><a href="../../news.html">News</a></li><li ><a href="../../features.html">Features</a></li><li ><a href="../../download.html">Download &amp; Installation</a></li><li class="webgen-menu-submenu webgen-menu-submenu-inhierarchy"><a href="../index.html">Documentation</a></li><li class="webgen-menu-submenu"><a href="../../examples/index.html">Examples</a></li><li ><a href="../../project.html">Project Status</a></li><li ><a href="http://webgen.rubyforge.org/wiki/wiki.pl">WikiWiki Web</a></li></ul></div>
      </div>

      <div id="wrap">

        <div id="leftside">
          
          <h1>Sub Menu</h1>
          <div class="webgen-menu-vert webgen-menu"><ul><li ><a href="../basics.html">Basics</a></li><li ><a href="../tutorial.html">Tutorial</a></li><li ><a href="../howto.html">Howto...?</a></li><li ><a href="../extending_webgen.html">Extending webgen</a></li><li class="webgen-menu-submenu webgen-menu-submenu-inhierarchy"><a href="index.html">References</a><ul><li class="webgen-menu-item-selected"><span>WebPage Format</span></li><li ><a href="sipttra_format.html">Sipttra Format</a></li><li ><a href="meta_info_reference.html">Meta Info Reference</a></li><li ><a href="resource_reference.html">Resource Reference</a></li><li ><a href="parameter_reference.html">Plugin Parameter Reference</a></li><li ><a href="../../rdoc/index.html">API Reference</a></li></ul></li><li class="webgen-menu-submenu"><a href="../plugins/index.html">Plugins</a></li></ul></div>
          

          
          <h1>Tips</h1>
          <ul class="list">
            <li>The <a href="../basics.html">basics page</a>contains everything one needs to get going with webgen!</li>
            <li>Descriptions for plugins can be found in the <a href="../plugins/index.html">plugins  section</a></li>
          </ul>
        </div>

        <div id="rightside">
          <h1>Latest news</h1>
          <p><strong>2007-12-31: </strong>
            Minor release with feature enhancements.
            <a href="../../news.html#news-2007-12-31">More...</a>
          </p>
          <p><strong>2007-09-08: </strong>
            Small bug fix release.
            <a href="../../news.html#news-2007-09-08">More...</a>
          </p>
          <p><strong>2007-06-29: </strong>
            Some bug fixes and one small feature enhancement.
            <a href="../../news.html#news-2007-06-29">More...</a>
          </p>

          <h1>Links</h1>
          <ul class="linklist">
            <li><a href="http://rubyforge.org/projects/webgen">webgen on Rubyforge</a></li>
            <li><a href="http://rubyforge.org/frs/?group_id=296">webgen downloads</a></li>
            <li><a href="../../rdoc/index.html">webgen API</a></li>
            <li><a href="http://rubyinstaller.rubyforge.org/wiki/wiki.pl">Ruby Windows Installer</a></li>
            <li><a href="http://www.ruby-lang.org">Ruby Homepage</a></li>
          </ul>

          <div class="center"><a href="http://webgen.rubyforge.org"><img src="../../images/webgen-generated-by.png" alt="Generated by webgen"/></a></div>

          <form action="https://www.paypal.com/cgi-bin/webscr" method="post"><div class="center" style="margin-top: 15px">
            <input type="hidden" name="cmd" value="_s-xclick" />
            <input type="image" src="https://www.paypal.com/en_US/i/btn/x-click-but04.gif" style="border:0px" name="submit" alt="Donate via PayPal!" />
            <img alt="" style="border:0px" src="https://www.paypal.com/en_US/i/scr/pixel.gif" width="1" height="1" />
            <input type="hidden" name="encrypted" value="-----BEGIN PKCS7-----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-----END PKCS7-----
" />
          </div></form>
        </div>

        <div id="navbar" class="content">
          <span class="leftbox">Location: <a href="../../index.html">webgen</a> / <a href="../index.html">Documentation</a> / <a href="index.html">References</a> / <span>WebPage Format</span> </span>
          <span class="rightbox">Language: <span>en</span></span>
          <span class="rightbox">Feedback: <a href="http://webgen.rubyforge.org/wiki/wiki.pl?WebPage_Format">Click here</a></span>
          <div style="clear: both">&nbsp;</div>
        </div>

        <div id="content" class="content">
          
          <div id="inpage-menu">
            <p style="text-align: center"><b>Page Menu</b></p>
            <div class="webgen-menu-section webgen-menu"><ul><li><a href="#structure">1. Structure</a><ul><li><a href="#metainfo-block">1.1. Meta Information Block</a></li><li><a href="#content-blocks">1.2. Content Blocks</a></li></ul></li><li><a href="#tags">2. webgen Tags</a><ul><li><a href="#tags-usage">2.1. Usage</a></li><li><a href="#tags-params">2.2. Parameters</a></li></ul></li><li><a href="#processing">3. Processing</a><ul><li><a href="#proc-html">3.1. Converting to <span class="caps">HTML</span></a></li><li><a href="#proc-erb">3.2. Evaluating <span class="caps">ERB</span> Tags</a></li><li><a href="#proc-tags">3.3. Evaluating webgen Tags</a></li></ul></li></ul></div>
          </div>
          
          <h1>The WebPage Format</h1>


	<p>The WebPage Format is a custom format designed for page and template files. It consists of one or
more blocks of data, is very simple and easy to use.</p>


	<h2 id="structure">Structure</h2>


	<p>A file using the WebPage Format consists of one or more blocks which are the smallest units
recongnized. Blocks are separated from each other through a line containing only three dashes. This
is illustrated in the following examples which are all valid files in WebPage Format:</p>


<pre>
Here is a block!
</pre>

<pre>
This is one block of the file
---
This is another block.
</pre>

<pre>
Block 1
--- block2
Block 2
--- block3
Block 3...
</pre>

	<p>If you want to use three dashes in a block but you don&#8217;t want to end the block, you have to escape
them with a backslash character, like this:</p>


<pre>
Block 1
\---
still Block 1
--- block2
Block 2
</pre>

	<p>All of the above examples show one kind of block, the content block. However, there may also be
another type of block: the meta information block. Following is a short description of both kinds,
starting with the meta information block.</p>


	<h3 id="metainfo-block">Meta Information Block</h3>


	<p>Each file in WebPage Format can have zero or one meta information blocks. This block is specified at
the beginning of the file. To tell the parser that the first block is the meta information block and
not a content block, you have to start the file with three dashes:</p>


<pre>
---
title: The title set by Meta info
---
This is the content of the file
</pre>

	<p>The above defines a meta information block and a content block. The meta information block has to be
in <span class="caps">YAML</span> format and should contain key-value pairs of meta information. <span class="caps">YAML</span> is a simple markup
language designed for ease of use. For more information about <span class="caps">YAML</span>, have a look at
<a href="http://www.yaml.org">www.yaml.org</a>!</p>


	<h3 id="content-blocks">Content Blocks</h3>


	<p>A content block is used to provide content in a specific format. Each file in WebPage Format needs
to have at least one content block which may be empty. However, it can have as many content blocks
as necessary. Each content block needs to have a unique name and a format specifier.</p>


	<p>The name uniquely identifies a content block and is used to access it. The format specifier defines
in which format the content block was written. The important thing is that all the formats can be
converted into <span class="caps">HTML</span>/XML! There are several different formats available &#8211; have a look a the <span class='plugin-ref'><a href="../plugins/contentconverter/default.html">ContentConverter</a></span> section.</p>


	<p>There may also be defaults for the two identifiers but they can be overwritten. There are two ways
to do this:</p>


	<ul>
	<li>you either specify the name and format of the block on the line with the three dashes</li>
		<li>or you use the special meta information block to define the names and formats of all blocks.</li>
	</ul>


	<p>The following example uses the first technique to override the name and/or the format:</p>


<pre>
1. content block of the file
--- sidebar, markdown
2. content block of the file
--- other
3. content block of the file
</pre>

	<p>The first block has no identifieres set (there is no line with three dashes and the identifieres).
Therefore the default values for both are used: <code>content</code> is the default block name and <code>default</code> is
the default format specifier. However, these defaults can be overridden by the plugins.</p>


	<p>The second block is named <code>sidebar</code> and uses the format <code>markdown</code>. As you see, first the name of
the block is specified and then, separated by a comma, the format specifier. The format identifier
can be omitted as shown for the third block, the default value is then used.</p>


	<p>You can also set the name and format of the content blocks by using the special <code>blocks</code> meta
information. It is an array of arrays and each sub-array contains, in this order, the name of the
block and its format. The above example can therefore also be written like this:</p>


<pre>
---
blocks: [[content,default], [sidebar, markdown], [other, ~]]
---
1. content block of the file
---
2. content block of the file
---
3. content block of the file
</pre>

	<p>With everything said above the example should be clear except maybe for the last sub-array. The
first entry specifies the name, <code>other</code>, and the second the format, <code>~</code>. The tilde has a special
meaning in <span class="caps">YAML</span> format, namely null or empty. This means that we want to use the default format for
the last block.</p>


	<p>The <strong>default name</strong> for a block is <code>content</code> and is used if no explicit name is given on the line
with the three dashes or in the blocks meta information at the correct index. The precedence is
(from high to low): <del>-</del> line, blocks meta information, default value.</p>


	<p>The <strong>default format</strong> for a block is <code>default</code> and the rules stated above for the block name apply to
the default format as well.</p>


	<h2 id="tags">webgen Tags</h2>


	<p>Tags are used to generate content. During processing of a file in WebPage Format so called &#8216;tags&#8217;
are replaced with dynamic content. For example, the menu you can see to the left was generated by a
tag. This makes it easier to add or remove menu items. If the menu was not generated, you would have
to change every file which uses the menu.</p>


	<h3 id="tags-usage">Usage</h3>


	<p>Tags are defined by a special markup code. A tag has the following structure:</p>


<pre>{tagname: {parameters}}</pre>

	<p>Every time a tag is found in a file, the registered plugin for the tag is called. The plugin returns
a string which is put into the output file instead of the tag. The output a tag plugin can produce
ranges from something simple to something complex. For example, the <span class='plugin-ref'><a href="../plugins/tag/meta.html">Tag/Meta</a></span> plugin copies
any additional meta information specified in the file verbatim into the correct place in the output
file. And in contrast, the <span class='plugin-ref'><a href="../plugins/tag/menu.html">Tag/Menu</a></span> plugin generates a whole menu tree.</p>


	<p>If you want to use the markup code used for tags, you need to escape the tag with a backslash, like
this:</p>


<pre>\{tagname: {parameters}}</pre>

	<h3 id="tags-params">Parameters</h3>


	<p>A tag can have zero or more parameters some of which are mandatory. You can see the supported
parameters (and if they are mandatory) for each tag on the tag&#8217;s plugin page. The default mandatory
parameter can be specified in a special way, see the examples below. The format used for parsing the
parameters is <span class="caps">YAML</span>.</p>


	<p>Here some examples with tags and parameters:</p>


<table class="examples">
<tr>
  <th>Usage</th><th>Output</th>
</tr>
<tr>
  <td><code>{tagname: }</code></td>
  <td>No parameters specified</td>
</tr>
<tr>
  <td><code>{tagname: test.html}</code></td>
  <td>The default mandatory parameter is set to <code>test.html</code>. This form can only be used if there is only one mandatory parameter</td>
</tr>
<tr>
  <td><code>{tagname: {param1: value1, param2: value2}}</code></td>
  <td>Two parameters (param1 and param2) specified</td>
</tr>
</table>

	<h2 id="processing">Processing</h2>


	<p>There is a well defined procesing order for files in WebPage Format:</p>


	<ul>
	<li>After reading in the file, it is split into the blocks.</li>
		<li>Each content block is converted to <span class="caps">HTML</span> (depends on the format specifier) and the <span class="caps">HTML</span> sections
  are resolved (caveat: only those with an <code>id</code> attribute)</li>
		<li>When writing out the file, the converted content is first processed with <span class="caps">ERB</span> (if specified to do
  so),</li>
		<li>then webgen tags are replaced and,</li>
		<li>finally, the result is written.</li>
	</ul>


	<p>The first two steps happen when the file is read and the last three when the file is written.</p>


	<h3 id="proc-html">Converting to <span class="caps">HTML</span></h3>


	<p>The conversion of a content block to <span class="caps">HTML</span> is done via the <span class='plugin-ref'><a href="../plugins/contentconverter/default.html">ContentConverter</a></span> plugins. Each
plugin is able to convert a special marked-up text to <span class="caps">HTML</span>.</p>


	<h3 id="proc-erb">Evaluating <span class="caps">ERB</span> Tags</h3>


	<p>The evaluation of <span class="caps">ERB</span> (embedded ruby) tags is optional and only done if the meta information
<code>useERB</code> is set to <code>true</code>. The use of <span class="caps">ERB</span> allows to add dynamic content without using webgen tags.
Following is an example of a file which uses <span class="caps">ERB</span>:</p>



<pre>
---
title: Test page with ERB
useERB: true
---
This page has the following meta info items:
&lt;% node.meta_info.each do |key, value| %&gt;
    * &lt;%=key %&gt;: &lt;%=value %&gt;
&lt;% end %&gt;
</pre>


	<p>This would output all meta information for the file. There are some objects available which you can
use in your <span class="caps">ERB</span> code:</p>


	<ul>
	<li><code>node</code>: the node for the current file (normally a page file)</li>
		<li><code>ref_node</code>: the reference node, i.e. the node in which the content will be embedded (normally a
  template file)</li>
	</ul>


	<p><strong>Caveat</strong>: you may need to ensure that the <span class="caps">ERB</span> start and end tags are not processed by the content
converter. For example, with Textile you may need to surround the <span class="caps">ERB</span> code with &lt;textile&gt;
tags!</p>


	<h3 id="proc-tags">Evaluating webgen Tags</h3>


	<p>Tags have already been mentioned in the <a href="webpage_format.html#tags">webgen tags</a> section.</p>
        </div>
        <div class="clearingdiv">&nbsp;</div>

      </div>
    </div>
    <div id="footer">&copy; 2006 Thomas Leitner | generated by <a href="http://webgen.rubyforge.org">webgen</a> | Design by <a href="http://andreasviklund.com">Andreas Viklund</a> / adapted by Thomas Leitner</div>

    <!-- Start of StatCounter Code -->
    <script type="text/javascript">
      var sc_project=648325;
      var sc_partition=5;
      var sc_security="7d00de1e";
      var sc_invisible=1;
    </script>

    <script type="text/javascript" src="http://www.statcounter.com/counter/counter_xhtml.js"></script><noscript><div class="statcounter"><a class="statcounter" href="http://www.statcounter.com/"><img class="statcounter" src="http://c6.statcounter.com/counter.php?sc_project=648325&amp;java=0&amp;security=7d00de1e&amp;invisible=1" alt="free geoip" /></a></div></noscript>
    <!-- End of StatCounter Code -->

    <script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
    </script>
    <script type="text/javascript">
      _uacct = "UA-641844-1";
      urchinTracker();
    </script>

  </body>
</html>